<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Daily Earn â€” Offers</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial; 
           margin:0; padding:0; display:flex; align-items:center; justify-content:center;
           height:100vh; background: linear-gradient(180deg,#ffffff,#f3f6ff); color:#0b1326; }
    .card { width:92%; max-width:420px; background:#fff; border-radius:12px; box-shadow:0 8px 28px rgba(12,34,80,0.08);
           padding:20px; text-align:center; }
    .logo { font-size:40px; }
    h1 { margin:10px 0 6px; font-size:20px; letter-spacing:0.2px; }
    p { margin:6px 0 18px; color:#344054; }
    .spinner { width:48px; height:48px; margin: 12px auto; border:6px solid #eef2ff; border-top-color:#6b6cff; border-radius:50%;
               animation:spin 1s linear infinite; }
    @keyframes spin { to { transform:rotate(360deg); } }
    .btn { display:inline-block; padding:10px 16px; border-radius:10px; background:#2563eb; color:#fff; text-decoration:none; 
           font-weight:600; margin-top:10px; }
    .small { font-size:12px; color:#667085; margin-top:12px; }
    footer { position: fixed; left:0; right:0; bottom:12px; text-align:center; font-size:12px; color:#94a3b8; }
  </style>
</head>
<body>
  <div class="card" role="main">
    <div class="logo">ðŸ’¸</div>
    <h1>Daily Earn</h1>
    <p>Finding the best offers for you â€” please wait while we load your rewards.</p>
    <div class="spinner" aria-hidden="true"></div>
    <a id="openBtn" class="btn" href="#" style="display:none;">Open Offers</a>
    <div class="small">If nothing happens, tap "Open Offers".</div>
  </div>

  <script>
    // Replace with your actual Monetag SmartLink
    const SMARTLINK = "https://otieu.com/4/10131930";

    // Telegram Web App ready
    if (window.Telegram && Telegram.WebApp) {
      Telegram.WebApp.ready();
      try { Telegram.WebApp.expand(); } catch(e) {}
    }

    // Try redirecting after a short delay; if blocked, show manual button
    function redirectToSmartlink() {
      try {
        // Use location.replace to avoid creating history entry
        window.location.replace(SMARTLINK);
      } catch (e) {
        // fallback
        window.location.href = SMARTLINK;
      }
    }

    // Attempt automatic redirect after 900ms
    setTimeout(() => {
      redirectToSmartlink();
      // If the redirect didn't occur within 800ms (e.g., blocked), show the manual button
      setTimeout(() => {
        // Show manual open button
        const btn = document.getElementById('openBtn');
        btn.style.display = 'inline-block';
        btn.href = SMARTLINK;
      }, 800);
    }, 900);

    // Also attach click handler for manual open
    document.getElementById('openBtn').addEventListener('click', function(e){
      e.preventDefault();
      redirectToSmartlink();
    });
  </script>

  <footer>Daily Earn â€¢ Tap open to view offers</footer>
</body>
</html>
